<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Sayı Tahmin Oyunu</title>
        <style>
            body {
                background-color: #f2f2f2;
                font-family: Arial, sans-serif;
            }
            .kutu {
                width: 300px;
                margin: 100px auto;
                text-align: center;

                border: 2px solid black;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            }

            input {
                width: 100%;
                padding: 8px;
                margin-top: 10px;
                font-size: 16px;
            }

            button {
               border: none;
               border-radius: 6px;
               background-color: #4caf50;
               color:white;
            }
            
            #sonuc {
                margin-top: 15px;
                font-size: 18px;
                font-weight: bold;
            }

            #reset{
                background-color: #555;
            }
            button:active {
                transform: scale(0.97);
            }
            button {
                cursor: pointer;
                touch-action: manipulation;
                padding: 15px 25px;
            }

            #sonuc {
                transition: opacity 0.3s ease;
            }
        </style>   
        </head>
    <body>
        <div class="kutu">
            <h1>Sayı Tahmin Oyunu</h1>
            <p>1 ile 10 arasında bir sayı tuttum</p>
            <input type="number" id= "input" placeholder="Tahmini gir"/>
            <button id="tahmin">Tahmin Et</button>
            <button id="reset" type="button">Tekrar Oyna</button>
            <p id="hak">Kalan Hak: 3</p>
            <p id="sonuc"></p>
        </div>
<script>let tutulanSayi = Math.floor(Math.random() * 10) + 1;
    let kalanHak = 3;
    let button = document.querySelector("#tahmin");

    let input = document.querySelector("#input");
    let sonuc = document.querySelector("#sonuc");
    let resetButon = document.querySelector("#reset");

resetButon.addEventListener("click", function() {
    console.log("Resetlendi");
    kalanHak = 3;
    document.querySelector("#hak").innerText = "Kalan Hak: 3";

    tutulanSayi = Math.floor(Math.random() * 10) + 1;

    sonuc.innerText = "";
    input.value = "";
    
    button.disabled = false;
});

    button.addEventListener("click", function() {
       input.blur();

       if (kalanHak <= 0) {
        return;
       }

       if (input.value === ""){
        sonuc.innerText = "Lütfen bir sayı gir";
        sonuc.style.color= "red";
        return;
       }

       
        let kullaniciSayisi = parseInt(input.value);

        if (kullaniciSayisi === tutulanSayi) {
            sonuc.innerText = "Doğru tahmin! Yeni oyun başladı.";
            sonuc.style.color = "green";

            kalanHak = 3;
            document.querySelector("#hak").innerText = "Kalan Hak: 3";
            
            tutulanSayi = Math.floor(Math.random() * 10) + 1;
            input.value = "";
          
            return;
        } 

        else if (kullaniciSayisi < tutulanSayi) {
            sonuc.innerText = "Daha büyük bir sayı dene";
            sonuc.style.color = "blue";

            kalanHak--;
        } 
        else {
            sonuc.innerText = "Daha küçük bir sayı dene";
            sonuc.style.color = "blue";
            kalanHak--;
        }
        document.querySelector("#hak").innerText= "Kalan Hak: " + kalanHak;

        if (kalanHak === 0) {
            sonuc.innerText = "Oyun bitti. :(";
            sonuc.style.color = "red";
            button.disabled = true;
            return;
        }
    });
</script>
    </body>
</html>
